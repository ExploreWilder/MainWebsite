{% extends "layout.html" %}
{% block title %}{{ book.title }}{% endblock %}
{% block body %}
    <!-- Contrary to asynchronous Fontawesome icons, text is displayed at the very beginning. -->
    <div id="wait-before-visible"><i class="far fa-compass fa-2x fa-spin"></i> Loading...</div>

    <div class="container-fluid" id="visible-when-loaded" data-book-id="{{ book.id }}" data-add-visit="{{ add_visit }}">
        <div class="row">
            <div class="col-lg-3"></div>
            <div class="col-md-12 col-lg-6">
                <h1 id="title-book">
                    {% if book.status == 'draft' %}
                        <span class="text-muted">[Draft]</span>
                    {% endif %}
                    {{ book.title }}
                </h1>
                {% if book.content.html == "" %}
                    <div class="alert alert-danger" role="alert">Nothing to print or invalid content!</div>
                {% endif %}
                <div id="content-book">{{ book.content.html }}</div>
                <div class="shadow-sm p-3 mb-3 bg-light rounded">
                    <p class="text-center">Thank you for reading. I hope you enjoyed! Before to read <a href="/stories">more stories</a>...</p>
                    {% include "networks.html" %}
                </div>
                <div class="text-center mb-3">
                    <a href="/stories" class="btn btn-success" role="button">
                        Read more stories!
                    </a>
                </div>
            </div>
            <div class="col-lg-3"></div>
        </div>
    </div>
    
    {% include "popup_story.html" %}
{% endblock %}
